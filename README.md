# Дипломный проект «Резервное копирование» первого блока «Основы языка программирования Python».

Неочевидные доделки:

надо обработать кейс с приватным профилем

надо давать на выбор несколько вариантов альбомов

имя папки на Яндекс диске - с понятным таймстампом текущим

если юзер укажет больше фоток, чем есть в альбоме, то сохранены будут все, написать об
этом, обработать

Методы для работы с API Вконтакте реализовал в отдельном классе _VkApiUser_, который 
описан в отдельном файле _vkapi.py_.

В дипломном задании требовалось сохранение фотографий с максимальным размером. Первоначально
было обнаружено, что у изображений, информация о которых доступна в ответе на метод
_photos.get_, существует список _sizes_, со ссылками на изображения в различных разрешениях.
Прямой взаимосвязи между "type" и фактическим размером изображения установлено не было -
у некоторых изображений были определённые _"type"_, у других же этих _"type"_ не было.
Поэтому было принятое решение определять изображение с максимальным размером посредством 
определения максимального _"height"_. Но при тестировании оказалось, что для совсем старых
изображений _"height"_ может не существовать. Поэтому в этих случаях, когда _"height"_
нет, всегда берётся изображение с _"type": "y"_.

При создании имени файла, в кейсах когда существует более одной фотографии с одинаковым
количеством лайков, по заданию требовалось добавлять к имени файла дату загрузки.
В итоговой реализации дата загрузки бралась из _"date"_, получаемое в ответе на
_photos.get_, и полученное значение в timestamp преобразовывалось в соответствующие
удобные для восприятия дату и время вида _ГГГГ-ММ-ДД ЧЧ:ММ:СС_. Для этого была
импортирована библиотека _datetime_.


Исходя из того, что API Вконтакте имеет ограничение на количество запросов
с ключом доступа пользователя не чаще 3 раз в секунду, соответствующая задержка
при запросах была добавлена вручную на 0,33 секунды посредством импорта
библиотеки _time_.

При получении каких-либо ошибок со стороны API Вконтакте о невозможности каких-то 
действий (например если профиль пользователя закрыт), реализован вывод таких
ошибок с полученными сообщением и кодом.

Создание json-файла и сохранение в него данных с информацией по файлу реализовано
в методе _get_photos_ класса _VkApiUser_ ещё до загрузки изображений на Яндекс.Диск.
При каждом выполнении программы файл _output.json_либо создаётся заново, либо 
перезаписывается в корневой папке проекта.

